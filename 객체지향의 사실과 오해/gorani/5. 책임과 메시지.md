## 5장-책임과 메시지
명확한 **책임**과 **역할**을 지닌 객체들이 협력에 참여해야한다.

### 책임
- 요청을 처리하기 위해 객체가 수행하는 행동
- 적절한 책임을 적절한 객체에게 할당하며 설계하는 것을 책임-주도 설계라고 부른다.
- 객체지향의 세계는 자율적인 객체들의 공동체로, 책임의 수준 역시 자율적이어야 한다. 
- 책임은 충분히 추상적인 동시에 협력의 의도를 뚜렷하게 표현할 수 있어야 한다.
- 어떤 책임이 가장 적절한가는 설계 중인 협력이 무엇인가에 따라 달라지므로 현재의 문맥에 가장 적합한 책임을 선택하는 것이 중요하다.
- 자율적인 책임은 '무엇'을 해야하는가를 설명한다.

### 메시지
- 객체가 다른 객체에게 제공해야 하는 메시지에 대해 고민하고 메시지를 중심으로 협력을 설계하라
- 객체가 다른 객체에 접근할 수 있는 유일한 방법은 요청을 전송하는 것뿐이다.
- 메시지는 행동을 수행하게 만드는 유일한 방법이다.
- 객체의 행동을 유발하는 행위를 가리켜 메시지-전송이라고 한다.
- 메시지는 메시지 이름과 인자의 두 부분으로 구성된다.
- 메시지 전송은 수신자와 메시지의 조합이다.
_메시지.메시지이름.인자 -> [모자장수.증언하라(어제,왕국)]_
- 송신자는 메시지 전송을 통해서 책임을 오평할 수 있고 수신자는 메시지 수신을 통해서 책임을 수행할 수 있다.
- 객체의 외부와 내부가 메시지를 기준으로 분리된다.
- 메시지는 외부의 다른 객체가 볼 수 있는 공개된 영역에 속한다.
- 메시지를 처리하기 위해 책임을 수행하는 방법은 사적인 영역에 속한다.
- 메시지 중심의 설계는 메시지 수신자의 캡슐화를 증진시킨다.
- 객체가 메시지를 수신할 수 있다는 것은 책임을 수행할 수 있다는 것을 의미한다.
- 메시지는 '어떻게'해야 하는지를 지시하지 않고 '무엇'을 해야 하는지를 요청하는 것
- 메시지를 중심으로 설계된 구조는 유연하고 확장 가능하며 재사용 가능하다.

### 메서드
- 메시지를 처리하기 위해 내부적으로 선택하는 방법을 메서드라고 한다.
- 프로그래밍 언어에서 메서드는 함수 또는 프로시저로 구현된다.
- 객체지향 언어 vs 절차지향 언어
  - 객체지향 언어에서 메시지를 수신한 객체는 실행 시간에 메서드를 선택할 수 있다.
  - 이에 반해 절차지향 언어에서는 컴파일 시간에 결정한다.

### 다형성
- 다형성이란 서로 다른 유형의 객체가 동일한 메시지에 대해 서로 다르게 반응하는 것을 의미한다.
- 다형성을 만족시킨다는 것은 객체들이 동일한 책임을 공유한다는 것을 의미한다.
- 송신자의 관점에서는 다형적인 수신자들을 구별할 필요가 없으며 자신의 요청을 수행할 책임을 지난다는 점에서 모두 동일하다. -> 수신자의 종류를 캡슐화한다.
- 다형성은 대체 가능성을 의미한다.
- 다형성은 설계를 유연하고 재사용 가능하게 만들어 협력을 유연하게 한다.
- 다형성은 객체 타입에 대한 결합도를 메시지에 대한 결합도로 낮춤으로써 달성된다.
- 장점
  - 협력이 유연해진다.
  - 협력이 수행되는 방식을 확장할 수 있다.
  - 협력이 수행되는 방식을 재사용할 수 있다.

### 책임-주도 설계
메시지가 수신자의 책임을 결정한다.
1. 객체의 책임을 할당
2. 책임을 완수하기 위해 어떤 메시지가 필요한지 결정
3. 수신하기에 적합한 객체 선택

### 인터페이스, 구현
- 외부에 공개된 인터페이스를 공용 인터페이스라고 한다.
- 메시지가 수신자의 인터페이스를 결정한다.
- 인터페이스 3원칙
  - 좀 더 추상적인 인터페이스
  - 최소 인터페이스
  - 인터페이스와 구현 간에 차이가 있다는 점을 인식
----
- 내부 구조와 작동 방식을 가리킨다.
- 상태와 행동이 이에 해당한다
- 행동은 메시지 처리방법으로 메서드라고 한다.
- 안전 지대가 객체의 내부인 구현, 위험 지대가 객체의 외부인 공용 인터페이스이다.
- 외부에 영향을 주지 않고도 메서드를 자유롭게 변경할 수 있어야 한다.
- 올바른 인터페이스와 구현을 분리하기 위한 객체 설계 방법을 캡슐화라고 한다.
- 구현을 외부로부터 감추는 것을 캡슐화라고 한다.

### 책임의 자율성이 협력의 품질을 결정한다.
1. 자율적인 책임은 협력을 단순하게 만든다.
_세부적인 사항 없이 의도(무엇을 하라)를 드러내는 하나의 문장으로 협력_
2. 자율적인 책임은 외부와 내부를 명확하게 분리한다.
3. 내부적인 방법을 변경하더라도 외부에 영향을 미치지 않는다.
_변경의 파급효과가 객체 내부로 캡슐화되기 때문에 두 객체 간의 결합도가 낮아진다._
4. 자율적인 책임은 협력의 대상을 다양하게 선택할 수 있는 유연성을 제공한다.
_따라서 설계가 유연해지고 재사용성이 높아진다._
5. 객체의 역할을 이해하기 쉬워진다.
_객체의 응집도를 높ㅇ느 상태로 유지하기가 쉬워진다._
